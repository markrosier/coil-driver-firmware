/*
 * i2c-cmd-handler.h
 *
 * Created: 27/6/2019 16:35:06
 *  Author: Mark
 */ 


#ifndef I2C_CMD_HANDLER_H
#define I2C_CMD_HANDLER_H

#define CMD1_BYTE 0
#define CMD2_BYTE 1
#define I2C_COMMAND_MASK    0b00011111
#define I2C_LED_COMMAND     0b00000000
#define I2C_SWITCH_COMMAND  0b00100000
#define I2C_OUTPUT_COMMAND  0b01000000
#define I2C_SERVO_COMMAND   0b01100000
#define I2C_PAL_LED_COMMAND 0b10000000
#define I2C_NEW_LED_COMMAND 0b10100000
#define I2C_GPIO_COMMAND    0b11000000
#define I2C_SPECIAL_COMMAND 0b11100000

#define I2C_FWID_COMMAND        0b00000000
#define I2C_ADDR_COMMAND        0b00000001
#define I2C_HRDW_COMMAND        0b00000010
#define I2C_SET_PALETTE_COMMAND 0b00010000
#define I2C_SYNC_COMMAND        0b00011111

#define MASK_OUTPUT_WATCH	0b10000000
#define MASK_OUTPUT_EDGE	0b01000000
#define MASK_OUTPUT_UNUSED	0b00111100
// #define MASK_OUTPUT_PLEFT	0b00000100
#define MASK_OUTPUT_PULSE	0b00000010
#define MASK_OUTPUT_POWER	0b00000001
#define MASK_OUTPUT_BLOCK	0b11110000
#define MASK_OUTPUT_SWITCH	0b00001111
#define SHIFT_OUTPUT_BLOCK	4

#define MASK_PATTERN_PATTERN 0b00011100
#define MASK_PATTERN_STRING  0b00000011
#define SHIFT_PATTERN_PATTERN 2

#define DUMMY_BYTE				0
uint8_t geti2cAddress( void );
void i2cCommandHandlerInit(void);
bool i2cFailure(void);
void i2cSWReset(void);

#endif /* I2C_CMD_HANDLER_H */
